C51 COMPILER V9.59.0.0   SYSTEM                                                            12/29/2018 09:32:41 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE SYSTEM
OBJECT MODULE PLACED IN .\output\system.obj
COMPILER INVOKED BY: E:\MDK\C51\BIN\C51.EXE c\system.c OPTIMIZE(8,SPEED) BROWSE NOINTPROMOTE INCDIR(.\h) DEBUG OBJECTEXT
                    -END PRINT(.\list\system.lst) OBJECT(.\output\system.obj)

line level    source

   1          #include "system.h"
   2          
   3          unsigned char Cnt200ms;
   4          /*发热布标志位*/
   5          unsigned char LED_SWITCH_OPEN_FLAG,LED_SWITCH_CLOSE_FLAG;
   6          unsigned int  u8cnt2s_open,u8cnt2s_close;
   7          unsigned char share_flag,share1_flag,SET;
   8          
   9           
  10          /******************************/
  11          extern unsigned int AdcValue;
  12          extern unsigned char Data;
  13          extern TIMEOUT_PARA Shake_Time[2];
  14          
  15          void System_Init(void)
  16          {
  17   1        TimeOutDet_Init();
  18   1        Push_Init();
  19   1        Heat_Init();
  20   1        Cool_Init();
  21   1        LED_Init();
  22   1        P17 = 0;
  23   1        Time1_Init();
  24   1      }
  25          unsigned char last_rev = 0,mode_type;
  26          
  27          void System_Handle(void)
  28          {
  29   1      #if ADCDIS
                if(Cnt200ms >= 4)      //200ms 检测一次
                {
                  Cnt200ms = 0;
                  ADCwork(AIN7,1);
                }
              #endif
  36   1      if((Data & 0xFF) != 0x00)
  37   1      {
  38   2          switch (Data & 0xFF)
  39   2          {
  40   3             case 0x01:
  41   3                       P0 |= 0X03;
  42   3                       break;
  43   3             case 0x02:
  44   3                       P0 &= ~0X02;
  45   3                       break;
  46   3             case 0x04:
  47   3                       P0 &= ~0X03;
  48   3                       break;
  49   3             case 0x20:
  50   3                       P1 |= 0X41;//制冷，风扇
  51   3                       P05 = 1;//绿灯
  52   3                       break;
  53   3             case 0x40:
  54   3                       P1 &= ~0X41; 
C51 COMPILER V9.59.0.0   SYSTEM                                                            12/29/2018 09:32:41 PAGE 2   

  55   3                       P05 = 0;
  56   3                       break;
  57   3             case 0x08:
  58   3                         PushA1_Open();
  59   3                         break;
  60   3                 case 0x10:
  61   3                                 PushA2_Close();
  62   3                         break;
  63   3                 case 0xA0://打开推杆  
  64   3                                 PushB2_Close();
  65   3                              break;   
  66   3                 case 0xC0://降低推杆
  67   3                                 PushB1_Open();
  68   3                             break;
  69   3             default:
  70   3                       break;
  71   3          }
  72   2      }
  73   1      else
  74   1      {
  75   2           PushA1_Stop();
  76   2           PushA2_Stop();
  77   2               PushB1_Stop();
  78   2           PushB2_Stop();
  79   2      }
  80   1      #if 0//PUSHEN
              
              if((Data&0xE0)!=0)
              {
                      switch(Data&0xE0)
                  {
                       
                       default: break;
                  }
              }
              if((Data&0xE0)==0)
              {
                       PushA1_Stop();
                   PushA2_Stop();
                       PushB1_Stop();
                   PushB2_Stop();
              }
              #endif
  98   1      
  99   1        
 100   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    107    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     12    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
